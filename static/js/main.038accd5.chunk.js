(this["webpackJsonpreact_redux-list-of-todos"]=this["webpackJsonpreact_redux-list-of-todos"]||[]).push([[0],{26:function(e,t,c){},28:function(e,t,c){},32:function(e,t,c){},34:function(e,t,c){"use strict";c.r(t);var n=c(8),s=c.n(n),a=c(4),r=c(18),i=(c(26),c(9)),l=c(6),o=c.n(l),d=c(7),u=c(15),j=c(16),b=function(){return{type:"START_LOADING"}},O=function(){return{type:"FINISH_LOADING"}},h=c(5),f={todo:null},m=function(e){return{type:"TODO_SELECT",payload:e}},x=function(){return{type:"TODO_REST"}},p=function(e){return{type:"SET_TODOLIST",payload:e}},v="https://mate.academy/students-api";function N(e){return new Promise((function(t){setTimeout(t,e)}))}function y(e){return g.apply(this,arguments)}function g(){return(g=Object(i.a)(o.a.mark((function e(t){var c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N(1e3);case 2:return e.next=4,fetch(v+t);case 4:return c=e.sent,e.abrupt("return",c.json());case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var T=Object(d.combineReducers)({loader:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"START_LOADING":return!0;case"FINISH_LOADING":return!1;default:return e}},selectTodo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"TODO_SELECT":return Object(h.a)(Object(h.a)({},e),{},{todo:t.payload});case"TODO_REST":return Object(h.a)(Object(h.a)({},e),{},{todo:null});default:return e}},todos:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return"SET_TODOLIST"===t.type?t.payload:e}}),k=Object(d.createStore)(T,Object(u.composeWithDevTools)(Object(d.applyMiddleware)(j.a))),S=a.c,w=c(3),_=(c(28),c(0)),D=c(13),E=c.n(D),I=c(17),C=c.n(I),L=c(1),A=function(e){var t=e.todos,c=Object(a.b)();return Object(L.jsx)("table",{"data-cy":"listOfTodos",className:"table is-narrow is-fullwidth",children:Object(L.jsx)("tbody",{children:null===t||void 0===t?void 0:t.map((function(e){return Object(L.jsxs)("tr",{className:C()("has-background-success-light","has-text-success",{"has-background-danger-light":!e.completed,"has-text-danger":!e.completed}),children:[Object(L.jsx)("td",{className:"is-vcentered",children:e.completed&&Object(L.jsx)("span",{className:"icon is-size-5",children:Object(L.jsx)("i",{className:"fas fa-check-square"})})}),Object(L.jsx)("td",{className:"is-vcentered",children:e.title}),Object(L.jsx)("td",{className:"has-text-right is-vcentered",children:Object(L.jsx)("button",{className:"button is-warning",type:"button",onClick:function(){return c(m(e))},children:"Show ".concat(e.id)})})]},e.id)}))})})},R=function(e){var t=e.handleQuery,c=e.query,n=e.handleTarget,s=e.applyQuery;return Object(L.jsxs)("form",{className:"field has-addons",children:[Object(L.jsx)("p",{className:"control",children:Object(L.jsx)("span",{className:"select",children:Object(L.jsxs)("select",{defaultValue:"all",onChange:function(e){n(e.target.value)},children:[Object(L.jsx)("option",{value:"all",children:"All"}),Object(L.jsx)("option",{value:"active",children:"Active"}),Object(L.jsx)("option",{value:"completed",children:"Completed"})]})})}),Object(L.jsxs)("p",{className:"control is-expanded has-icons-left has-icons-right",children:[Object(L.jsx)("input",{"data-cy":"filterByTitle",type:"text",className:"input",placeholder:"Search...",onChange:function(e){t(e.target.value),s(e.target.value)},value:c}),Object(L.jsx)("span",{className:"icon is-left",children:Object(L.jsx)("i",{className:"fas fa-magnifying-glass"})}),Object(L.jsx)("span",{className:"icon is-right",children:c&&Object(L.jsx)("button",{type:"button",className:"delete has-text",onClick:function(){return t("")}})})]})]})},G=(c(32),function(){return Object(L.jsx)("div",{className:"Loader",children:Object(L.jsx)("div",{className:"Loader__content"})})}),Q=function(){var e=Object(_.useState)(),t=Object(w.a)(e,2),c=t[0],n=t[1],s=S((function(e){return e.selectTodo.todo})),r=Object(a.b)();return Object(_.useEffect)((function(){var e;s&&(e=s.userId,y("/users/".concat(e))).then((function(e){return n(e)}))})),Object(L.jsxs)("div",{className:"modal is-active",children:[Object(L.jsx)("div",{className:"modal-background"}),c?Object(L.jsxs)("div",{className:"modal-card",children:[Object(L.jsxs)("header",{className:"modal-card-head",children:[Object(L.jsx)("div",{className:"modal-card-title has-text-weight-medium",children:null===s||void 0===s?void 0:s.id}),Object(L.jsx)("a",{href:"#close",className:"delete",type:"button",onClick:function(){return r(x())},children:"Close"})]}),Object(L.jsxs)("div",{className:"modal-card-body",children:[Object(L.jsx)("p",{className:"block",children:null===s||void 0===s?void 0:s.title}),Object(L.jsxs)("p",{className:"block",children:[null!==s&&void 0!==s&&s.completed?Object(L.jsx)("strong",{className:"has-text-success",children:"Done"}):Object(L.jsx)("strong",{className:"has-text-danger",children:"Planned"})," by ",Object(L.jsx)("a",{href:"mailto:".concat(null===c||void 0===c?void 0:c.email),children:null===c||void 0===c?void 0:c.name})]})]})]}):Object(L.jsx)(G,{})]})},q=function(){var e=S((function(e){return e.loader})),t=S((function(e){return e.selectTodo.todo})),c=S((function(e){return e.todos})),n=Object(a.b)(),s=Object(_.useState)(""),r=Object(w.a)(s,2),l=r[0],d=r[1],u=Object(_.useState)([]),j=Object(w.a)(u,2),h=j[0],f=j[1],m=Object(_.useState)("all"),x=Object(w.a)(m,2),v=x[0],N=x[1],g=Object(_.useState)(""),T=Object(w.a)(g,2),k=T[0],I=T[1],C=Object(_.useCallback)(E.a.debounce(I,1e3),[]);return Object(_.useEffect)((function(){n(function(){var e=Object(i.a)(o.a.mark((function e(t){var c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(b()),e.next=3,y("/todos");case 3:c=e.sent,t(p(c)),t(O());case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[]),Object(_.useEffect)((function(){!function(e){switch(e){case"active":f(c.filter((function(e){return!e.completed})));break;case"completed":f(c.filter((function(e){return e.completed})));break;default:f(c)}f((function(e){return e.filter((function(e){return e.title.includes(k)}))}))}(v)}),[c,k,v]),Object(L.jsxs)(L.Fragment,{children:[Object(L.jsx)("div",{className:"section",children:Object(L.jsx)("div",{className:"container",children:Object(L.jsxs)("div",{className:"box",children:[Object(L.jsxs)("div",{className:"is-flex is-justify-content-space-between",children:[Object(L.jsx)("h1",{className:"title",children:"Todos:"}),Object(L.jsx)("button",{className:"button is-black",type:"button",onClick:function(){f((function(e){return Object(D.shuffle)(e)}))},children:"Shake"})]}),Object(L.jsx)("div",{className:"block",children:Object(L.jsx)(R,{handleQuery:function(e){d(e)},query:l,handleTarget:function(e){N(e)},applyQuery:C})}),Object(L.jsx)("div",{className:"block",children:e?Object(L.jsx)(G,{}):Object(L.jsx)(A,{todos:h})})]})})}),t&&Object(L.jsx)(Q,{})]})},F=(c(33),function(){return Object(L.jsx)(a.a,{store:k,children:Object(L.jsx)(r.a,{children:Object(L.jsx)(q,{})})})});s.a.render(Object(L.jsx)(F,{}),document.getElementById("root"))}},[[34,1,2]]]);
//# sourceMappingURL=main.038accd5.chunk.js.map